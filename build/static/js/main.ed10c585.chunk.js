(this["webpackJsonpstormwater-viz"]=this["webpackJsonpstormwater-viz"]||[]).push([[0],{105:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(43),o=a.n(i),c=(a(53),a(13)),l=a(14),s=a(17),d=a(18),u=(a(25),a(54),a(55),a(44)),h=a.n(u),m=a(11),v=a(3),p=a.n(v),g=function(e){var t=e.clickHandler,a=e.selectedGridCell,r=Object(m.b)().map;return Object(n.useEffect)((function(){h()("WRFgridRectangles_NoOcean_Attribs.zip").then((function(t){p.a.geoJSON(t,{style:function(t){return t.properties.Center_Lat===a.Center_Lat&&t.properties.Center_Lon===a.Center_Lon?n:e},onEachFeature:i}).addTo(r)}));var e={color:"rgb(199, 169, 62, .2)"},n={color:"rgb(11, 118, 183, .6)"};function i(i,o){o.on("mouseover",(function(){o.setStyle(n);var e=[];i.properties&&(e.push("Center Lat/Long: <b>("+i.properties.Center_Lat.toFixed(3)+", "+i.properties.Center_Lon.toFixed(3)+")</b>"),e.push("Row-Column ID: <b>"+i.properties.row_index_+"-"+i.properties.column_ind+"</b>"),o.bindTooltip(e.join("<br />"),{direction:"top",offset:p.a.point({x:0,y:-20})}),o.openTooltip())})),o.on("mouseout",(function(){i.properties.Center_Lat!==a.Center_Lat&&i.properties.Center_Lon!==a.Center_Lon&&o.setStyle(e),o.unbindTooltip()})),o.on("click",(function(e){t(e,i,r._zoom)}))}}),[r,t,a]),null},x=(a(96),a(112)),C=a(111),f=function(e){var t=e.selectedGridCell,a=e.center,n=e.zoom,i=e.zoomControl,o=e.clickHandler;return r.a.createElement(x.a,{id:"map-container",center:a,zoom:n,zoomControl:i},r.a.createElement(C.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"}),r.a.createElement(g,{clickHandler:o,selectedGridCell:t}))},_=function(e){var t=e.selectedGridCell,a=e.buttonClickHandler,n=e.mapClickHandler;return r.a.createElement("div",{id:"nav-map"},r.a.createElement("div",{id:"map-thumb"},r.a.createElement(f,{selectedGridCell:t,center:[t.Center_Lat+.28,t.Center_Lon],zoom:8,clickHandler:n,zoomControl:!0}),r.a.createElement("div",{id:"nav-map-text"},"Click to select new cell, click and drag to pan")),r.a.createElement("button",{id:"nav-btn",onClick:a},"Return to Map"))},E=function(e){var t=e.renderMapView,a=e.selectedGridCell,n=e.navBtnClick,i=e.navMapClick;return r.a.createElement("div",{id:"nav-container"},r.a.createElement("div",{id:"nav-logo"}),r.a.createElement("div",{id:"nav-text"},r.a.createElement("div",{id:"nav-title"},"Projected Changes in Extreme Precipitation"),t?r.a.createElement("div",{id:"nav-subtitle-map"},"Click a grid cell to see extreme precipitation projection"):r.a.createElement("div",{id:"nav-subtitle-container"},r.a.createElement("div",{id:"nav-subtitle-base"},"Selected Grid Cell:"),r.a.createElement("div",{id:"nav-subtitle-dynamic"},"LAT ",Number(a.Center_Lat.toFixed(3)),", LONG ",Number(a.Center_Lon.toFixed(3)),", Row-Col ",a.row_index_+"-"+a.column_ind))),t?r.a.createElement("div",{id:"nav-"}):r.a.createElement(_,{selectedGridCell:a,buttonClickHandler:n,mapClickHandler:i}))},b=(a(97),function(e){var t=e.showModal,a=e.closeModal;return t?r.a.createElement("div",{id:"modal-screen"},r.a.createElement("div",{id:"modal"},r.a.createElement("h2",null,"Projected Changes in Extreme Precipitation"),r.a.createElement("div",{id:"content"},r.a.createElement("h3",null,"About the tool"),r.a.createElement("h4",null,"The purpose of this tool is to visualize projected changes in heavy rainfall events across the Pacific Northwest. This tool provides extreme precipitation projections as a function of decade, duration, and return interval (frequency). You can customize the tool to select various precipitation frequencies and durations to ensure the data shown in the tool is relevant to your specific needs. The tool lets you download graphics for later use and you can also download the data for each grid cell in an excel-readable format."),r.a.createElement("br",null),r.a.createElement("h3",null,"Acknowledgements"),r.a.createElement("h4",null,"The original source of funding for this work was the King County Department of Natural Resources and Parks, with additional provided by the Washington State Department of Ecology. Since then, the work has been refined and expanded with funding from the City of Everett, Thurston County, the Port Gamble S\u2019Klallam Tribe, Portland\u2019s Bureau of Environmental Services, Clackamas County, and the City of Gresham.",r.a.createElement("br",null),r.a.createElement("br",null),"The regional climate model simulations were produced by Professor Cliff Mass of UW Atmospheric Sciences, with funding from the Amazon Catalyst program.")),r.a.createElement("div",{id:"actions"},r.a.createElement("button",{id:"toggle-button",onClick:a},"close")))):null}),y=(a(98),a(16)),w=a(8),A=a(46),P=a.n(A),D=function(e){return e.sort((function(e,t){return e-t})),[e[0],e[e.length-1]]},k=function(e,t,a,n,r){var i=[1,2,6,24,72],o=[2,5,10,25,50,100],c=["2020-2049","2030-2059","2040-2069","2050-2079","2060-2089","2070-2099"],l={2030:"2020-2049",2040:"2030-2059",2050:"2040-2069",2060:"2050-2079",2070:"2060-2089",2080:"2070-2099"},s=["access1.0_RCP8.5_wyMAX","access1.3_RCP8.5_wyMAX","bcc-csm1.1_RCP8.5_wyMAX","canesm2_RCP8.5_wyMAX","ccsm4_RCP8.5_wyMAX","csiro-mk3.6.0_RCP8.5_wyMAX","fgoals-g2_RCP8.5_wyMAX","gfdl-cm3_RCP8.5_wyMAX","giss-e2-h_RCP8.5_wyMAX","miroc5_RCP8.5_wyMAX","mri-cgcm3_RCP8.5_wyMAX","noresm1-m_RCP8.5_wyMAX","ensemble_RCP8.5_wyMAX"],d=[];if(d.push(["Model","Return Interval(years)","Duration(hours)","Time Period","Projected Change(%)"]),"decade"===t)for(var u=0;u<c.length;u++){for(var h=[],m=0;m<s.length;m++){var v=e[c[u]][s[m]][r+"-hr"][n+"-yr"];"ensemble_RCP8.5_wyMAX"===s[m]?d.push(["Average",n,r,c[u],v.toFixed(1)]):(d.push([s[m],n,r,c[u],v.toFixed(1)]),h.push(v))}var p=D(h);d.push(["Min",n,r,c[u],p[0].toFixed(1)]),d.push(["Max",n,r,c[u],p[1].toFixed(1)])}else if("duration"===t)for(var g=l[a],x=[],C=0;C<i.length;C++){for(var f=0;f<s.length;f++){var _=e[g][s[f]][i[C]+"-hr"][n+"-yr"];"ensemble_RCP8.5_wyMAX"===s[f]?d.push(["Average",n,i[C],g,_.toFixed(1)]):(d.push([s[f],n,i[C],g,_.toFixed(1)]),x.push(_))}var E=D(x);d.push(["Min",n,i[C],g,E[0].toFixed(1)]),d.push(["Max",n,i[C],g,E[1].toFixed(1)])}else if("return-int"===t)for(var b=[],y=l[a],w=0;w<o.length;w++){for(var A=0;A<s.length;A++){var P=e[y][s[A]][r+"-hr"][o[w]+"-yr"];"ensemble_RCP8.5_wyMAX"===s[A]?d.push(["Average",o[w],r,y,P.toFixed(1)]):(d.push([s[A],o[w],r,y,P.toFixed(1)]),b.push(P))}var k=D(b);d.push(["Min",o[w],r,y,k[0].toFixed(1)]),d.push(["Max",o[w],r,y,k[1].toFixed(1)])}return d};a(105);a(42)(w),a(106)(w);var M=function(e){var t=e.vizConfig,a=e.xAxisParam,i=e.returnInt,o=e.decade,c=e.duration,l=e.gridJSON,s=e.gridCell,d=Object(n.useRef)(null),u="";"decade"===a?u="".concat(a,"-chart-data_row").concat(s.row_index_,"-col").concat(s.column_ind,"_lat").concat(s.Center_Lat,"-lon").concat(s.Center_Lon,"_").concat(i,"-yr_").concat(c,"-hr.csv"):"return-int"===a?u="".concat(a,"-chart-data_row").concat(s.row_index_,"-col").concat(s.column_ind,"_lat").concat(s.Center_Lat,"-lon").concat(s.Center_Lon,"_").concat(c,"-hr_").concat(o,"s.csv"):"duration"===a&&(u="".concat(a,"-chart-data_row").concat(s.row_index_,"-col").concat(s.column_ind,"_lat").concat(s.Center_Lat,"-lon").concat(s.Center_Lon,"_").concat(i,"-yr_").concat(o,"s.csv"));var h="";"decade"===a?h="".concat(a,"-chart-img_row").concat(s.row_index_,"-col").concat(s.column_ind,"_lat").concat(s.Center_Lat,"-lon").concat(s.Center_Lon,"_").concat(i,"-yr_").concat(c,"-hr"):"return-int"===a?h="".concat(a,"-chart-img_row").concat(s.row_index_,"-col").concat(s.column_ind,"_lat").concat(s.Center_Lat,"-lon").concat(s.Center_Lon,"_").concat(c,"-hr_").concat(o,"s"):"duration"===a&&(h="".concat(a,"-chart-img_row").concat(s.row_index_,"-col").concat(s.column_ind,"_lat").concat(s.Center_Lat,"-lon").concat(s.Center_Lon,"_").concat(i,"-yr_").concat(o,"s"));var m=[[]];return Object.keys(l).length>0&&(m=k(l,a,o,i,c)),r.a.createElement("div",{id:"fig-container"},r.a.createElement("div",{id:"viz-fig"},r.a.createElement(P.a,{id:"viz-fig",ref:d,updateArgs:[!0],highcharts:w,options:t})),r.a.createElement("div",{id:"chart-info"},"Click and drag over points to zoom."),r.a.createElement("div",{id:"citation"},"Recommended Citation: Morgan, H., Mauger, G., Won, J., Gould, D. 2021 \xa0",r.a.createElement("i",null,"Projected Changes in Extreme Precipitation Web Tool.")," \xa0 University of Washington Climate Impacts Group. \xa0",r.a.createElement("u",null,"https:/doi.org/10.6069/79CV-4233")),r.a.createElement("div",{id:"btn-row"},r.a.createElement("button",{onClick:function(){d&&d.current&&d.current.chart&&d.current.chart.exportChart({filename:h})},id:"fig-btn"},"Download Figure"),r.a.createElement(y.CSVLink,{data:m,filename:u},r.a.createElement("button",{id:"data-btn"},"Download Chart Data"))))},N=(a(107),a(108),function(){return r.a.createElement("svg",{className:"caret",width:"7",height:"6",viewBox:"0 0 7 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.601166 0.800049H5.40117C5.89517 0.800049 6.17717 1.36405 5.88117 1.76005L3.48117 4.96005C3.24117 5.28005 2.76117 5.28005 2.52117 4.96005L0.121166 1.76005C-0.175834 1.36405 0.107166 0.800049 0.601166 0.800049Z",fill:"#757575"}))}),R=function(e){var t=e.duration,a=e.returnInt,n=e.decade,i=e.xAxisParam,o=e.csvData,c=e.gridCell,l=e.xAxisToggle,s=e.handleReturnIntChange,d=e.handleDurationChange,u=e.handleDecadeChange,h="";return"decade"===i?h="grid-data_row".concat(c.row_index_,"-col").concat(c.column_ind,"_lat").concat(c.Center_Lat,"-lon").concat(c.Center_Lon,"_").concat(a,"-yr_").concat(t,"-hr.csv"):"return-int"===i?h="grid-data_row".concat(c.row_index_,"-col").concat(c.column_ind,"_lat").concat(c.Center_Lat,"-lon").concat(c.Center_Lon,"_").concat(t,"-hr_").concat(n,"s.csv"):"duration"===i&&(h="grid-data_row".concat(c.row_index_,"-col").concat(c.column_ind,"_lat").concat(c.Center_Lat,"-lon").concat(c.Center_Lon,"_").concat(a,"-yr_").concat(n,"s.csv")),r.a.createElement("div",{id:"viz-select"},r.a.createElement("div",{id:"radios"},r.a.createElement("div",{className:"radio-container"},r.a.createElement("h3",{style:{color:"#757575 "}}," Customize the graph "),r.a.createElement("div",{id:"radio-header"},"1. Select x-axis"),r.a.createElement("label",{className:"radio-row"},r.a.createElement("input",{type:"radio",value:"duration",name:"xParam",checked:"duration"===i,onChange:l}),r.a.createElement("span",{className:"radio-label"},"Duration")),r.a.createElement("div",{className:"radio-description"},"How long a precipitation event lasts (e.g., 1 hour, 6 hours, 24 hours).")),r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",{className:"radio-row"},r.a.createElement("input",{type:"radio",value:"return-int",name:"xParam",checked:"return-int"===i,onChange:l}),r.a.createElement("span",{className:"radio-label"},"Return Interval")),r.a.createElement("div",{className:"radio-description"},"How common or rare a precipitation event of a specific duration is. A larger return interval implies a rarer and larger event.")),r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",{className:"radio-row"},r.a.createElement("input",{type:"radio",value:"decade",name:"xParam",checked:"decade"===i,onChange:l}),r.a.createElement("span",{className:"radio-label"},"Decade")),r.a.createElement("div",{className:"radio-description"},"Change for each future decade. Each decade represents a 30-year average (e.g., \u20182030s\u2019 = 2020-2049). "))),"decade"===i?r.a.createElement("div",{id:"selectors"},r.a.createElement("div",{id:"parameter-header"},"2. Specify other parameters"),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Return Interval"),r.a.createElement("div",{className:"select-row"},r.a.createElement("select",{value:a,onChange:s},r.a.createElement("option",{value:"2"},"2-year"),r.a.createElement("option",{value:"5"},"5-year"),r.a.createElement("option",{value:"10"},"10-year"),r.a.createElement("option",{value:"25"},"25-year"),r.a.createElement("option",{value:"50"},"50-year"),r.a.createElement("option",{value:"100"},"100-year")),r.a.createElement(N,null))),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Duration"),r.a.createElement("div",{className:"select-row"},r.a.createElement("select",{value:t,onChange:d},r.a.createElement("option",{value:"1"},"1-hour"),r.a.createElement("option",{value:"2"},"2-hour"),r.a.createElement("option",{value:"6"},"6-hour"),r.a.createElement("option",{value:"24"},"24-hour"),r.a.createElement("option",{value:"72"},"72-hour")),r.a.createElement(N,null)))):"return-int"===i?r.a.createElement("div",{id:"selectors"},r.a.createElement("div",{id:"parameter-header"},"2. Specify other parameters"),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Duration"),r.a.createElement("div",{className:"select-row"},r.a.createElement("select",{value:t,onChange:d},r.a.createElement("option",{value:"1"},"1-hour"),r.a.createElement("option",{value:"2"},"2-hour"),r.a.createElement("option",{value:"6"},"6-hour"),r.a.createElement("option",{value:"24"},"24-hour"),r.a.createElement("option",{value:"72"},"72-hour")),r.a.createElement(N,null))),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Decade"),r.a.createElement("div",{className:"select-row"},r.a.createElement("select",{value:n,onChange:u},r.a.createElement("option",{value:"2030"},"2030s"),r.a.createElement("option",{value:"2040"},"2040s"),r.a.createElement("option",{value:"2050"},"2050s"),r.a.createElement("option",{value:"2060"},"2060s"),r.a.createElement("option",{value:"2070"},"2070s"),r.a.createElement("option",{value:"2080"},"2080s")),r.a.createElement(N,null)))):"duration"===i?r.a.createElement("div",{id:"selectors"},r.a.createElement("div",{id:"parameter-header"},"2. Specify other parameters"),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Return Interval"),r.a.createElement("div",{className:"select-row"},r.a.createElement("select",{value:a,onChange:s},r.a.createElement("option",{value:"2"},"2-year"),r.a.createElement("option",{value:"5"},"5-year"),r.a.createElement("option",{value:"10"},"10-year"),r.a.createElement("option",{value:"25"},"25-year"),r.a.createElement("option",{value:"50"},"50-year"),r.a.createElement("option",{value:"100"},"100-year")),r.a.createElement(N,null))),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Decade"),r.a.createElement("div",{className:"select-row"},r.a.createElement("select",{value:n,onChange:u},r.a.createElement("option",{value:"2030"},"2030s"),r.a.createElement("option",{value:"2040"},"2040s"),r.a.createElement("option",{value:"2050"},"2050s"),r.a.createElement("option",{value:"2060"},"2060s"),r.a.createElement("option",{value:"2070"},"2070s"),r.a.createElement("option",{value:"2080"},"2080s")),r.a.createElement(N,null)))):void 0,r.a.createElement(y.CSVLink,{id:"grid-btn-wrapper",data:o,filename:h},r.a.createElement("button",{id:"grid-data-btn"},"Download All Data For Grid Cell")))},S=function(e){return e.sort((function(e,t){return e-t})),[e[0],e[e.length-1]]},z=function(e){var t=[1,2,6,24,72],a=[2,5,10,25,50,100],n=["2020-2049","2030-2059","2040-2069","2050-2079","2060-2089","2070-2099"],r=["access1.0_RCP8.5_wyMAX","access1.3_RCP8.5_wyMAX","bcc-csm1.1_RCP8.5_wyMAX","canesm2_RCP8.5_wyMAX","ccsm4_RCP8.5_wyMAX","csiro-mk3.6.0_RCP8.5_wyMAX","fgoals-g2_RCP8.5_wyMAX","gfdl-cm3_RCP8.5_wyMAX","giss-e2-h_RCP8.5_wyMAX","miroc5_RCP8.5_wyMAX","mri-cgcm3_RCP8.5_wyMAX","noresm1-m_RCP8.5_wyMAX","ensemble_RCP8.5_wyMAX"],i=[];i.push(["Model","Return Interval(years)","Duration(hours)","Time Period","Projected Change(%)"]);for(var o=0;o<t.length;o++)for(var c=0;c<a.length;c++)for(var l=0;l<n.length;l++){for(var s=[],d=0;d<r.length;d++){var u=e[n[l]][r[d]][t[o]+"-hr"][a[c]+"-yr"];"ensemble_RCP8.5_wyMAX"===r[d]?i.push(["Average",a[c],t[o],n[l],u.toFixed(1)]):(i.push([r[d],a[c],t[o],n[l],u.toFixed(1)]),s.push(u))}var h=S(s);i.push(["Min",a[c],t[o],n[l],h[0].toFixed(1)]),i.push(["Max",a[c],t[o],n[l],h[1].toFixed(1)])}return i},I=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={xAxisParam:"duration",returnInt:25,decade:"2050",duration:1,gridJSON:{},csvData:[[]],vizConfig:{chart:{type:"scatter",zoomType:"xy",spacingBottom:40},credits:{position:{align:"right",y:-15,x:-15},enabled:!0,text:"Figure Credit: University of Washington Climate Impacts Group <br/> Highcharts.com"},exporting:{enabled:!1,scale:1,chartOptions:{chart:{height:700,width:1200},title:{text:"Projected Change v Duration: 25-year Event, 2050s",style:{color:"black",fontSize:"20px"}},yAxis:[{title:{text:"% Change from Historical (1981-2010)",style:{color:"black",fontSize:"20px"}},labels:{style:{color:"black",fontSize:"16px"}},allowDecimals:!1}],xAxis:[{categories:["1","2","6","24","72"],title:{text:"Duration (hours)",style:{color:"black",fontSize:"20px"}},labels:{style:{color:"black",fontSize:"16px"}},allowDecimals:!1}],plotOptions:{scatter:{marker:{radius:7}}}}},title:{text:"Projected Change v Duration: 25-year Event, 2050s",style:{color:"black",fontSize:"20px"}},xAxis:{categories:["1","2","6","24","72"],title:{enabled:!0,text:"Duration (hours)",style:{color:"black",fontSize:"16px"}},labels:{style:{color:"black",fontSize:"13px"}}},yAxis:{title:{text:"% Change from Historical (1981-2010)",style:{color:"black",fontSize:"14px"}},plotLines:[{color:"#C0C0C0",width:2,value:0}],labels:{style:{color:"black",fontSize:"13px"}}},legend:{layout:"vertical",align:"left",verticalAlign:"bottom",x:40,y:30,floating:!0,backgroundColor:"#FFFFFF",borderWidth:1},plotOptions:{scatter:{marker:{radius:5,states:{hover:{enabled:!0,lineColor:"rgb(100,100,100)"}}},states:{hover:{marker:{enabled:!1}}}}},series:[{name:"Individual Model",className:"ind-model",color:"rgba(11, 118, 183, .6)",border:"solid 2px black",data:[],tooltip:{headerFormat:"",pointFormat:"<span>Individual Model: <b>{point.gcm}</b></span><br/><span>Projected Change: <b>{point.y} %</b></span><br/><span>Duration: <b>{point.duration}</b></span><br/><span>Return Invterval: <b>{point.returnInt}</b></span><br/><span>Time Period: <b>{point.decade}</b> relative to 1981-2010</span><br/><span>Greenhouse Gas Scenario: <b>RCP 8.5 (High)</b></span>"}},{name:"Model Average",className:"model-avg",marker:{symbol:"diamond",radius:7},color:"#D74D26",data:[],tooltip:{headerFormat:"",pointFormat:"<span><b> Model Average </span></b><br/><span>Projected Change: <b>{point.y} %</b></span><br/><span>Duration: <b>{point.duration}</b></span><br/><span>Return Invterval: <b>{point.returnInt}</b></span><br/><span>Time Period: <b>{point.decade}</b> relative to 1981-2010</span><br/><span>Greenhouse Gas Scenario: <b>RCP 8.5 (High)</b></span>"}}]}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchJSON(this.props.selectedGridCell.column_ind,this.props.selectedGridCell.row_index_)}},{key:"componentDidUpdate",value:function(e){this.props.selectedGridCell.Center_Lon===e.selectedGridCell.Center_Lon&&this.props.selectedGridCell.Center_Lat===e.selectedGridCell.Center_Lat||this.fetchJSON(this.props.selectedGridCell.column_ind,this.props.selectedGridCell.row_index_)}},{key:"fetchJSON",value:function(e,t){var a=this;fetch("https://data.cig.uw.edu/picea/stormwater/pub/viz_data/grid_x"+e+"_y"+t+".json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=[];"decade"===a.state.xAxisParam?t=a.filterDecadeData(e,a.state.duration,a.state.returnInt):"duration"===a.state.xAxisParam?t=a.filterPrecipData(e,a.state.decade,a.state.xAxisParam,a.state.returnInt):"return-int"===a.state.xAxisParam&&(t=a.filterPrecipData(e,a.state.decade,a.state.xAxisParam,a.state.duration));var n=a.state.vizConfig;n.series[0].data=t.modelsArr,n.series[1].data=t.mediansArr;var r=z(e);a.setState({vizConfig:n,gridJSON:e,csvData:r})})).catch((function(e){console.log("Fetch Error :-S",e)}))}},{key:"filterPrecipData",value:function(e,t,a,n){var r=[],i=[],o={2030:"2020-2049",2040:"2030-2059",2050:"2040-2069",2060:"2050-2079",2070:"2060-2089",2080:"2070-2099"},c=[1,2,6,24,72],l=[2,5,10,25,50,100],s=e[o[t]];if("duration"===a)for(var d in s){var u=s[d];for(var h in u){var m=u[h],v="".concat(n,"-yr"),p=Number(m[v].toFixed(0)),g=h.substring(0,h.length-3),x={x:c.indexOf(Number(g)),y:p,duration:h,returnInt:v,gcm:d.slice(0,d.length-13),decade:"".concat(t," (").concat(o[t],")")};"ensemble"===x.gcm?i[x.x]=x:r.push(x)}}else if("return-int"===a)for(var C in s){var f=s[C],_="".concat(n,"-hr"),E=f[_];for(var b in E){var y=Number(E[b].toFixed(0)),w=b.substring(0,b.length-3),A={x:l.indexOf(Number(w)),y:y,duration:_,returnInt:b,gcm:C.slice(0,C.length-13),decade:"".concat(t," (").concat(o[t],")")};"ensemble"===A.gcm?i[A.x]=A:r.push(A)}}return{modelsArr:r,mediansArr:i}}},{key:"filterDecadeData",value:function(e,t,a){for(var n=[],r=[],i=[["2030","2020-2049"],["2040","2030-2059"],["2050","2040-2069"],["2060","2050-2079"],["2070","2060-2089"],["2080","2070-2099"]],o=t+"-hr",c=a+"-yr",l=0;l<i.length;l++){var s=e[i[l][1]];for(var d in s){var u={x:l,y:Number(s[d][o][c].toFixed(0)),duration:o,returnInt:c,gcm:d.slice(0,d.length-13),decade:"".concat(i[l][0],"s (").concat(i[l][1],")")};"ensemble"===u.gcm?r[u.x]=u:n.push(u)}}return{modelsArr:n,mediansArr:r}}},{key:"xAxisToggle",value:function(e){var t=this.state.vizConfig;if("duration"===e.target.value){t.title.text="Projected Change v Duration: ".concat(this.state.returnInt,"-year Event, ").concat(this.state.decade,"s"),t.xAxis.title.text="Duration (hours)",t.xAxis.categories=[1,2,6,24,72],t.exporting.chartOptions.title.text="Projected Change v Duration: ".concat(this.state.returnInt,"-year Event, ").concat(this.state.decade,"s"),t.exporting.chartOptions.xAxis[0].title.text="Duration (hours)",t.exporting.chartOptions.xAxis[0].categories=[1,2,6,24,72];var a=this.filterPrecipData(this.state.gridJSON,this.state.decade,e.target.value,this.state.returnInt);t.series[0].data=a.modelsArr,t.series[1].data=a.mediansArr}else if("return-int"===e.target.value){t.title.text="Projected Change v Return Interval: ".concat(this.state.duration,"-hour Event, ").concat(this.state.decade,"s"),t.xAxis.title.text="Return Interval (years)",t.xAxis.categories=[2,5,10,25,50,100],t.exporting.chartOptions.title.text="Projected Change v Return Interval: ".concat(this.state.duration,"-hour Event, ").concat(this.state.decade,"s"),t.exporting.chartOptions.xAxis[0].title.text="Return Interval (years)",t.exporting.chartOptions.xAxis[0].categories=[2,5,10,25,50,100];var n=this.filterPrecipData(this.state.gridJSON,this.state.decade,e.target.value,this.state.duration);t.series[0].data=n.modelsArr,t.series[1].data=n.mediansArr}else if("decade"===e.target.value){t.title.text="Projected Change v Decade: ".concat(this.state.returnInt,"-year, ").concat(this.state.duration,"-hour Event"),t.xAxis.title.text="Decade",t.xAxis.categories=["2030s","2040s","2050s","2060s","2070s","2080s"],t.exporting.chartOptions.title.text="Projected Change v Decade: ".concat(this.state.returnInt,"-year, ").concat(this.state.duration,"-hour Event"),t.exporting.chartOptions.xAxis[0].title.text="Decade",t.exporting.chartOptions.xAxis[0].categories=["2030s","2040s","2050s","2060s","2070s","2080s"];var r=this.filterDecadeData(this.state.gridJSON,this.state.duration,this.state.returnInt);t.series[0].data=r.modelsArr,t.series[1].data=r.mediansArr}this.setState({xAxisParam:e.target.value,vizConfig:t})}},{key:"handleReturnIntChange",value:function(e){var t=this.state.vizConfig;if("duration"===this.state.xAxisParam){t.title.text="Projected Change v Duration: ".concat(e.target.value,"-year Event, ").concat(this.state.decade,"s"),t.exporting.chartOptions.title.text="Projected Change v Duration: ".concat(e.target.value,"-year Event, ").concat(this.state.decade,"s");var a=this.filterPrecipData(this.state.gridJSON,this.state.decade,this.state.xAxisParam,Number(e.target.value));t.series[0].data=a.modelsArr,t.series[1].data=a.mediansArr}else if("decade"===this.state.xAxisParam){t.title.text="Projected Change v Decade: ".concat(e.target.value,"-year, ").concat(this.state.duration,"-hour Event"),t.exporting.chartOptions.title.text="Projected Change v Decade: ".concat(e.target.value,"-year, ").concat(this.state.duration,"-hour Event");var n=this.filterDecadeData(this.state.gridJSON,this.state.duration,Number(e.target.value));t.series[0].data=n.modelsArr,t.series[1].data=n.mediansArr}this.setState({returnInt:Number(e.target.value),vizConfig:t})}},{key:"handleDurationChange",value:function(e){var t=this.state.vizConfig;if("return-int"===this.state.xAxisParam){t.title.text="Projected Change v Return Interval: ".concat(e.target.value,"-hour Event, ").concat(this.state.decade,"s"),t.exporting.chartOptions.title.text="Projected Change v Return Interval: ".concat(e.target.value,"-hour Event, ").concat(this.state.decade,"s");var a=this.filterPrecipData(this.state.gridJSON,this.state.decade,this.state.xAxisParam,Number(e.target.value));t.series[0].data=a.modelsArr,t.series[1].data=a.mediansArr}else if("decade"===this.state.xAxisParam){t.title.text="Projected Change v Decade: ".concat(this.state.returnInt,"-year, ").concat(e.target.value,"-hour Event"),t.exporting.chartOptions.title.text="Projected Change v Decade: ".concat(this.state.returnInt,"-year, ").concat(e.target.value,"-hour Event");var n=this.filterDecadeData(this.state.gridJSON,Number(e.target.value),this.state.returnInt);t.series[0].data=n.modelsArr,t.series[1].data=n.mediansArr}this.setState({duration:Number(e.target.value),vizConfig:t})}},{key:"handleDecadeChange",value:function(e){var t=this.state.vizConfig;if("duration"===this.state.xAxisParam){t.title.text="Projected Change v Duration: ".concat(this.state.returnInt,"-year Event, ").concat(e.target.value,"s"),t.exporting.chartOptions.title.text="Projected Change v Duration: ".concat(this.state.returnInt,"-year Event, ").concat(e.target.value,"s");var a=this.filterPrecipData(this.state.gridJSON,e.target.value,this.state.xAxisParam,this.state.returnInt);t.series[0].data=a.modelsArr,t.series[1].data=a.mediansArr}else if("return-int"===this.state.xAxisParam){t.title.text="Projected Change v Return Interval: ".concat(this.state.duration,"-hour Event, ").concat(e.target.value,"s"),t.exporting.chartOptions.title.text="Projected Change v Return Interval: ".concat(this.state.duration,"-hour Event, ").concat(e.target.value,"s");var n=this.filterPrecipData(this.state.gridJSON,e.target.value,this.state.xAxisParam,this.state.duration);t.series[0].data=n.modelsArr,t.series[1].data=n.mediansArr}this.setState({decade:e.target.value,vizConfig:t})}},{key:"render",value:function(){return r.a.createElement("div",{id:"viz-container"},r.a.createElement(R,{gridCell:this.props.selectedGridCell,xAxisParam:this.state.xAxisParam,duration:this.state.duration,returnInt:this.state.returnInt,decade:this.state.decade,csvData:this.state.csvData,xAxisToggle:this.xAxisToggle.bind(this),handleReturnIntChange:this.handleReturnIntChange.bind(this),handleDurationChange:this.handleDurationChange.bind(this),handleDecadeChange:this.handleDecadeChange.bind(this)}),r.a.createElement(M,{vizConfig:this.state.vizConfig,xAxisParam:this.state.xAxisParam,duration:this.state.duration,returnInt:this.state.returnInt,decade:this.state.decade,gridJSON:this.state.gridJSON,gridCell:this.props.selectedGridCell}))}}]),a}(r.a.Component),L=function(){return r.a.createElement("div",{id:"footer-arrow"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 250 250"},r.a.createElement("path",{fill:"#354374",d:"M120.774,179.271v40c47.303,0,85.784-38.482,85.784-85.785c0-47.3-38.481-85.782-85.784-85.782H89.282L108.7,28.286 L80.417,0L12.713,67.703l67.703,67.701l28.283-28.284L89.282,87.703h31.492c25.246,0,45.784,20.538,45.784,45.783 C166.558,158.73,146.02,179.271,120.774,179.271z"})))},O=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={renderMapView:!0,selectedGridCell:{Center_Lat:0,Center_Lon:0,column_ind:0,row_index_:0},center:[45.3,-116.9],zoom:5,showModal:!0},e}return Object(l.a)(a,[{key:"mapClick",value:function(e,t,a){this.state.renderMapView?this.setState({renderMapView:!1,selectedGridCell:t.properties,center:[t.properties.Center_Lat,t.properties.Center_Lon],zoom:a||this.state.zoom}):this.setState({selectedGridCell:t.properties})}},{key:"navBtnClick",value:function(e){this.setState({renderMapView:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,{showModal:this.state.showModal,closeModal:this.closeModal.bind(this)}),r.a.createElement(E,{renderMapView:this.state.renderMapView,selectedGridCell:this.state.selectedGridCell,navBtnClick:this.navBtnClick.bind(this),navMapClick:this.mapClick.bind(this)}),this.state.renderMapView?r.a.createElement(f,{selectedGridCell:this.state.selectedGridCell,center:this.state.center,zoom:this.state.zoom,zoomControl:!0,clickHandler:this.mapClick.bind(this)}):r.a.createElement(I,{selectedGridCell:this.state.selectedGridCell}),r.a.createElement("div",{id:"app-footer"},r.a.createElement("a",{id:"link",href:"https://cig.uw.edu/projects/heavy-precipitation-projections-for-use-in-stormwater-planning/"},r.a.createElement("div",{id:"footer-text"},"Return to Project Page"),r.a.createElement(L,null))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},25:function(e,t,a){},48:function(e,t,a){e.exports=a(110)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},90:function(e,t){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.ed10c585.chunk.js.map